<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StratOS | Rahul J</title>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0d1117;
            --window-bg: rgba(13, 17, 23, 0.90);
            --taskbar-bg: rgba(13, 17, 23, 0.85);
            --text-color: #e6edf3;
            --accent-color: #00f3ff;
            --accent-green: #0aff60;
            --accent-red: #ff2a6d;
            --glass-border: 1px solid rgba(0, 243, 255, 0.15);
            --discord-bg: #111214;
            --discord-card: #232428;
            --discord-blurple: #5865F2;
            --vscode-bg: #1e1e1e;
            --vscode-sidebar: #252526;
            --vscode-activity: #333333;
            --chat-bg: #0f111a;
            --chat-bubble-user: #008891;
            --chat-bubble-bot: #21262d;
        }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            background: #000; /* Dark background for matrix */
            color: var(--text-color);
            height: 100vh;
            user-select: none;
        }

        /* Matrix Canvas Styling */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.35; /* Subtle transparency */
            pointer-events: none;
        }

        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #424242; border-radius: 5px; border: 1px solid rgba(255,255,255,0.1); }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-color); }

        #boot-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: var(--accent-color); font-family: 'JetBrains Mono', monospace;
            z-index: 9999; display: flex; flex-direction: column;
            justify-content: center; align-items: center; font-size: 14px;
        }
        #boot-logo { font-size: 64px; margin-bottom: 30px; text-shadow: 0 0 20px var(--accent-color); animation: flicker 2s infinite; }
        #boot-log { width: 320px; text-align: left; font-size: 13px; display: flex; flex-direction: column; gap: 4px; }
        .log-line { opacity: 0; animation: fadeIn 0.1s forwards; white-space: nowrap; overflow: hidden; }
        
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes flicker { 0% { opacity: 0.8; } 50% { opacity: 1; } 100% { opacity: 0.8; } }

        #image-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 20000;
            justify-content: center; align-items: center; backdrop-filter: blur(10px);
        }
        #modal-img { max-width: 90%; max-height: 90%; border-radius: 4px; box-shadow: 0 0 40px rgba(0,243,255,0.3); border: 1px solid var(--accent-color); }
        #modal-close { position: absolute; top: 20px; right: 30px; font-size: 40px; color: white; cursor: pointer; z-index: 20001; }

        #notification-area {
            position: absolute; top: 20px; right: 20px; z-index: 10000;
            display: flex; flex-direction: column; gap: 10px; pointer-events: none;
        }
        .toast {
            pointer-events: auto; background: rgba(13, 17, 23, 0.95);
            border: 1px solid rgba(0, 243, 255, 0.2); border-left: 4px solid var(--accent-color);
            padding: 15px; border-radius: 6px; color: #fff; width: 320px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex; flex-direction: column; gap: 6px; backdrop-filter: blur(12px);
        }
        .toast-title { font-weight: bold; font-size: 14px; color: var(--accent-color); display: flex; justify-content: space-between; align-items: center;}
        .toast-msg { font-size: 13px; color: #c9d1d9; line-height: 1.5; }
        @keyframes slideInRight { from { transform: translateX(120%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(20px); } }

        #desktop {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            padding: 30px; display: flex; flex-direction: column; flex-wrap: wrap;
            gap: 20px; align-content: flex-start; z-index: 1;
        }
        .desktop-icon {
            width: 90px; height: 105px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; cursor: pointer;
            border-radius: 8px; transition: all 0.2s; color: rgba(255,255,255,0.9);
            text-shadow: 0 2px 4px rgba(0,0,0,0.9);
        }
        .desktop-icon:hover { background: rgba(0, 243, 255, 0.1); backdrop-filter: blur(10px); transform: translateY(-3px); color: #fff; text-shadow: 0 0 10px var(--accent-color); }
        .desktop-icon i { font-size: 42px; margin-bottom: 10px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.7)); }
        .desktop-icon span { font-size: 13px; text-align: center; font-weight: 500; line-height: 1.2; }

        .window {
            position: absolute; background: var(--window-bg); backdrop-filter: blur(25px);
            border: var(--glass-border); border-radius: 12px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8); display: flex; flex-direction: column;
            overflow: hidden; min-width: 200px; min-height: 100px;
            transition: opacity 0.2s, transform 0.2s; animation: openWin 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes openWin { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
        .window.minimized { opacity: 0; transform: scale(0.8) translateY(200px); pointer-events: none; }
        .window.maximized { top: 0 !important; left: 0 !important; width: 100% !important; height: calc(100% - 60px) !important; border-radius: 0; }
        .window-header {
            background: linear-gradient(to right, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
            padding: 12px 16px; display: flex; justify-content: space-between; align-items: center;
            cursor: default; border-bottom: 1px solid rgba(255, 255, 255, 0.08); user-select: none;
        }
        .window-title { font-size: 13px; font-weight: 600; display: flex; align-items: center; gap: 10px; color: rgba(255,255,255,0.95); }
        .window-controls { display: flex; gap: 8px; }
        .control-btn { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; position: relative; }
        .close-btn { background: #ff5f56; }
        .min-btn { background: #ffbd2e; }
        .max-btn { background: #27c93f; }
        .window-content { flex-grow: 1; overflow: hidden; position: relative; display: flex; flex-direction: column; }

        .terminal-app { background-color: #050505; color: #ccc; font-family: 'JetBrains Mono', monospace; height: 100%; padding: 8px; box-sizing: border-box; font-size: 14px; display: flex; flex-direction: column; }
        .terminal-scroll { flex-grow: 1; overflow-y: auto; padding: 10px; }
        .term-line { margin-bottom: 3px; line-height: 1.5; }
        .term-input-line { display: flex; margin-top: 5px; align-items: center; }
        .prompt-user { color: var(--accent-green); font-weight: bold; }
        .term-input { background: transparent; border: none; color: #fff; font-family: inherit; font-size: inherit; flex-grow: 1; outline: none; }

        .chat-app { display: flex; flex-direction: column; height: 100%; background: var(--chat-bg); }
        .chat-messages { flex-grow: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .chat-input-area { padding: 15px; background: rgba(0,0,0,0.2); border-top: 1px solid rgba(255,255,255,0.1); display: flex; gap: 10px; }
        .chat-input { flex-grow: 1; background: #21262d; border: 1px solid #30363d; color: white; padding: 10px; border-radius: 6px; outline: none; }
        .chat-btn { background: var(--accent-color); color: #000; border: none; padding: 0 20px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .chat-bubble { max-width: 80%; padding: 10px 15px; border-radius: 12px; font-size: 14px; word-wrap: break-word; }
        .chat-bubble.user { align-self: flex-end; background: var(--chat-bubble-user); color: white; }
        .chat-bubble.bot { align-self: flex-start; background: var(--chat-bubble-bot); color: #e6edf3; border: 1px solid #30363d; }
        
        .browser-app { display: flex; flex-direction: column; height: 100%; background: #1a1a1a; }
        .browser-bar { background: rgba(30, 30, 30, 0.9); padding: 10px 15px; display: flex; gap: 12px; border-bottom: 1px solid #333; align-items: center; }
        .url-bar { flex-grow: 1; background: #0d0d0d; border: 1px solid #333; padding: 8px 16px; border-radius: 8px; font-size: 13px; color: #eee; font-family: 'JetBrains Mono', monospace; }
        .browser-content { flex-grow: 1; background: #fff; position: relative; overflow: hidden; }
        .browser-home { width: 100%; height: 100%; background: #0d1117; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 40px; }
        .dial-grid { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; }
        .dial-item { width: 130px; height: 130px; background: rgba(33, 38, 45, 0.8); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; border: 1px solid #30363d; }
        .dial-item:hover { transform: translateY(-8px); border-color: var(--accent-color); }
        .dial-icon { font-size: 48px; margin-bottom: 10px; }

        .vscode-layout { display: flex; height: 100%; background: var(--vscode-bg); color: #ccc; }
        .vscode-activity-bar { width: 48px; background: var(--vscode-activity); display: flex; flex-direction: column; align-items: center; padding-top: 10px; }
        .vscode-icon { font-size: 24px; color: #858585; margin-bottom: 25px; cursor: pointer; }
        .vscode-sidebar { width: 200px; background: var(--vscode-sidebar); font-size: 13px; border-right: 1px solid #1e1e1e; }
        .vscode-file { padding: 4px 20px; cursor: pointer; display: flex; align-items: center; gap: 6px; border-left: 2px solid transparent; }
        .vscode-file.active { background: #37373d; color: #fff; border-left: 2px solid var(--accent-color); }
        .vscode-main { flex-grow: 1; display: flex; flex-direction: column; }
        .vscode-tabs { display: flex; background: var(--vscode-sidebar); }
        .vscode-tab { padding: 8px 15px; background: var(--vscode-sidebar); color: #969696; font-size: 13px; border-right: 1px solid #1e1e1e; }
        .vscode-tab.active { background: var(--vscode-bg); color: #fff; border-top: 1px solid var(--accent-color); }
        .vscode-editor-area { flex-grow: 1; display: flex; }
        .vscode-gutter { width: 50px; text-align: right; padding-right: 15px; padding-top: 10px; font-family: 'Consolas', monospace; font-size: 14px; color: #858585; border-right: 1px solid rgba(255,255,255,0.05); }
        .vscode-code { flex-grow: 1; padding: 10px; font-family: 'Consolas', monospace; font-size: 14px; white-space: pre; overflow: auto; outline: none; }
        .vscode-status-bar { height: 22px; background: var(--accent-color); color: #000; display: flex; align-items: center; padding: 0 10px; font-size: 12px; font-weight: bold; }

        #taskbar { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); width: 90%; height: 52px; background: var(--taskbar-bg); backdrop-filter: blur(20px); border: var(--glass-border); border-radius: 14px; display: flex; align-items: center; padding: 0 10px; z-index: 1000; }
        /* Updated Start Button Style */
        #start-btn { 
            width: 40px; 
            height: 40px; 
            border-radius: 12px; 
            background: linear-gradient(135deg, #00f3ff, #008891); /* Cyan/Teal Gradient */
            color: #000; /* Dark icon for contrast */
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 22px; 
            cursor: pointer; 
            margin-right: 15px;
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.4);
        }
        .task-list { display: flex; gap: 8px; flex-grow: 1; }
        .task-item { width: 42px; height: 42px; border-radius: 10px; display: flex; align-items: center; justify-content: center; cursor: pointer; background: rgba(255,255,255,0.05); transition: 0.2s; position: relative; }
        .task-item.active::after { content: ''; position: absolute; bottom: -4px; width: 16px; height: 3px; background: var(--accent-color); border-radius: 2px; }

        #start-menu { position: absolute; bottom: 80px; left: 5%; width: 320px; background: rgba(22, 27, 34, 0.95); border: var(--glass-border); border-radius: 12px; padding: 15px; display: none; flex-direction: column; gap: 10px; z-index: 1001; }
        .start-item { padding: 10px; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: 0.1s; }
        .start-item:hover { background: rgba(255,255,255,0.1); }

        .chess-card { background: #161b22; padding: 20px; border-radius: 12px; border: 1px solid #30363d; display: flex; flex-direction: column; gap: 15px; align-items: center; width: 300px; }
        .chess-avatar { width: 70px; height: 70px; border-radius: 8px; border: 2px solid #2ea043; }
        .chess-stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
        .stat-box { background: rgba(255,255,255,0.05); padding: 8px; border-radius: 6px; text-align: center; }

        .token-keyword { color: #569cd6; }
        .token-string { color: #ce9178; }

        /* Network Status in Tray */
        .tray-item { display: flex; align-items: center; gap: 6px; opacity: 0.8; font-size: 12px; color: white; transition: opacity 0.2s; }
        .tray-item:hover { opacity: 1; }
        .tray-icon { color: var(--accent-green); }
    </style>
</head>
<body>

    <!-- Matrix Background Canvas -->
    <canvas id="matrix-bg"></canvas>

    <div id="image-modal">
        <div id="modal-close" onclick="document.getElementById('image-modal').style.display='none'">&times;</div>
        <img id="modal-img" src="">
    </div>

    <div id="notification-area"></div>

    <div id="boot-screen">
        <div id="boot-logo"><i class="fa-solid fa-fingerprint"></i></div>
        <div id="boot-log"></div>
    </div>

    <div id="start-menu">
        <div style="font-weight:bold; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:10px;">Rahul J | Architect</div>
        <div class="start-item" onclick="createWindow('Terminal', 'terminal')"><i class="fa-solid fa-terminal"></i> Terminal</div>
        <div class="start-item" onclick="createWindow('CustomLLM', 'neuralchat')"><i class="fa-solid fa-microchip"></i> CustomLLM</div>
        <div class="start-item" onclick="createWindow('Browser', 'browser')"><i class="fa-solid fa-globe"></i> Browser</div>
        <div class="start-item" onclick="location.reload()" style="color:#ff7b72"><i class="fa-solid fa-power-off"></i> Shut Down</div>
    </div>

    <div id="desktop"></div>

    <div id="taskbar">
        <!-- New Start Button: Fingerprint with Cyan Gradient -->
        <div id="start-btn" onclick="toggleStartMenu()"><i class="fa-solid fa-fingerprint"></i></div>
        <div class="task-list" id="task-list"></div>
        
        <div style="margin-left:auto; display:flex; gap:20px; padding-right:15px; align-items:center;">
            <!-- Removed Curiosity Status -->
            <div id="clock-area" style="text-align:right; color:white; font-size:12px;">
                <div id="clock-time">00:00</div>
                <div id="clock-date">Jan 01</div>
            </div>
        </div>
    </div>

    <script>
        const MISTRAL_KEY = "blAJT7bc5KHXR5UG3MbHl5OoyNF9Z9Jv"; // Reconstructed
        const fileSystem = {
            "forex_algo.py": { content: `import numpy as np\nclass LiquidityHunter:\n    def __init__(self):\n        self.elo = 1826` },
            "bio.md": { content: `# Rahul J\n## Strategic Architect & AI Engineer\n\nI exist at the intersection of algorithmic precision and human intuition. My work focuses on deconstructing market microstructures and architecting neural networks that don't just learn, but *reason*.\n\n### Core Competencies\n- **AI/ML**: Building cognitive engines, not just models.\n- **System Architecture**: Scalable, resilient, and efficient.\n- **Strategy**: Applying game theory to code and markets.\n\n> "Tactics is knowing what to do when there is something to do. Strategy is knowing what to do when there is nothing to do."\n> â€” Savielly Tartakower` },
            "philosophy.txt": { content: `THE UNANSWERED QUESTIONS\n\n1. If a neural network dreams, does it fear the wake-up call?\n2. Is consciousness a feature or a bug in the universal code?\n3. If we simulate a universe perfectly, are we gods or just admins?\n4. Does the strategy exist before the game, or does the game create the strategy?\n5. In the game of life, is the king more important than the pawn, or just more trapped?\n\n"The only true wisdom is in knowing you know nothing."` },
            "MACD_Scalper.mq4": { content: `//+------------------------------------------------------------------+
//|                                              Neural_MACD_Pro_v9.mq4 |
//|                                   Copyright 2024, Rahul J Systems   |
//|                                        https://www.stratos-ai.com   |
//+------------------------------------------------------------------+
#property copyright "Rahul J"
#property link      "https://www.stratos-ai.com"
#property version   "9.42"
#property strict

//--- INPUT PARAMETERS ---
input string   Risk_Settings = "=== RISK MANAGEMENT ===";
input double   RiskPercent    = 2.0;       // Risk per trade (%)
input double   MaxDrawdown    = 15.0;      // Max Daily Drawdown (%)
input double   LotSize        = 0.1;       // Fixed Lot (if Risk=0)
input bool     UseMartingale  = false;     // Enable Recovery Mode
input double   MartingaleMult = 1.5;       // Recovery Multiplier

input string   Indi_Settings = "=== INDICATOR LOGIC ===";
input int      FastEMA        = 12;        // Fast EMA Period
input int      SlowEMA        = 26;        // Slow EMA Period
input int      SignalSMA      = 9;         // Signal Period
input int      RSI_Period     = 14;        // Relative Strength Index
input int      Stoch_K        = 5;         // Stochastic K
input int      Stoch_D        = 3;         // Stochastic D
input int      Stoch_Slow     = 3;         // Stochastic Slowing

//--- GLOBAL VARIABLES ---
int       MagicNumber = 133742;
double    PipValue;
datetime  LastTradeTime;
bool      IsHedging = false;

//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
   if(Digits==3 || Digits==5) PipValue = Point*10;
   else PipValue = Point;
   
   Print("Initialization Complete. Neural Filter: ACTIVE");
   return(INIT_SUCCEEDED);
  }

//+-----------------------------
